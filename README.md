# Практика 2019

## Таблица Privileges

![Рисунок 1](https://github.com/lumberspin/practice_2019/raw/master/img_for_readme/table.png)

В таблице содержится информация о типах документов доступных в системе

Поля:

* id -- int. Идентификатор записи, уникален в пределах таблицы. Заполняется автоматически
* name -- varchar. Название привилегии (директор, администратор, преподаватель,бухгалтер). Максимальная длина: 48 знаков
* description -- text. Примечание, может быть NULL (отсутствовать)
* ifActive -- bit. Флаг активности данного типа документа, принимает значения 1 или 0. Значение по-умолчанию 0

## Web-интерфейс

Для того чтобы увидеть содержимое таблицы необходимо зайти на http://crm.yss.su/Privileges/

Так же можно передавать GET параметр, он указывает, какую страницу вы хотите увидеть. Существует 3 варианта этого параметра

* add=new
* red
* del

Для параметров red и del необходимо так же указать параметр id, который является идентификатором записи в таблице.

### Если не передавать параметр

Если URL выглядит так "http://crm.yss.su/Privileges/", это значит, что вы хотите увидеть содержимое таблицы.

Вы увидите таблицу из шести столбцов

* Название привилегии
* Примечание. Может отсутствовать
* Указывает активена ли привилегия. Может принимать значения 1 или 0 (по умолчанию 0)
* Ссылка на удаление записи
* Ссылка на редактирование записи

### Параметр add=new

Если параметр add равен "new", это значит, что вы хотите добавить элемент в таблицу.

Под таблицей будет отображаться форма добавления новой записи из трёх полей: name, description и active. Все поля кроме description обязательны для заполнения.

* Поле name: Название привилегии
* Поле description: Примечание
* Поле active: Указывает, является ли привилегия активной. (Если не заполнять, то значение будет равно 0)

После нажатия на кнопку "ОК" запись добавится в таблицу.

### Параметр red

С этим параметром необходимо указывать параметр id. Если параметр red равен "1", это значит, что вы хотите отредактировать запись с id=1.

После нажатия на кнопку "Edit" форма под таблицей изменится на форму редактирования, которая будет предзаполненна текущими значениями изменяемой записи, после чего данные в таблице обновятся.

### Параметр del

С этим параметром необходимо указывать параметр id. Если параметр del равен "1" значит вы хотите удалить запись из таблицы c id=1.

После нажатия на кнопку "Delete" запись будет удалена из таблицы.

## Исходый код

Исходный код состоит из одного файла: index.php
Файл содержит документирующие комментарии.


### Файл index.php

Файл инициализирует базу данных, обрабатывает POST запросы на создание/обновление/удаление данных.

Функций в реализации задачи нет, поскольку за разовое использоваие таблицы Previleges из базы данных crm не происходит повторения логических операций.
